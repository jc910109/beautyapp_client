{"version":3,"sources":["../../src/pages/ofertas/ofertas.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/filtrofav/filtrofav.ts","../../src/pages/ofertas/ofertas.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { OfertasPage } from './ofertas';\nimport { PipesModule } from '../../pipes/pipes.module';//<--- here\n\n@NgModule({\n  declarations: [\n    OfertasPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(OfertasPage),\n    PipesModule\n  ],\n})\nexport class OfertasPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ofertas/ofertas.module.ts","import { NgModule } from '@angular/core';\nimport { FiltrofavPipe } from './filtrofav/filtrofav';\n@NgModule({\n\tdeclarations: [FiltrofavPipe],\n\timports: [],\n\texports: [FiltrofavPipe]\n})\nexport class PipesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n/**\n * Generated class for the FiltrofavPipe pipe.\n *\n * See https://angular.io/api/core/Pipe for more info on Angular Pipes.\n */\n@Pipe({\n  name: 'filtrofav',\n  pure: false\n})\nexport class FiltrofavPipe implements PipeTransform {\n   transform(items: any[], callback: (item: any) => boolean): any {\n        if (!items || !callback) {\n            return items;\n        }\n        return items.filter(item => callback(item));\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/filtrofav/filtrofav.ts","import { Component,NgZone } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { Storage } from '@ionic/storage';\n\nimport { ModalController } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { Events } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\n\nimport { AlertController } from 'ionic-angular';\n\n\nimport { DomSanitizer } from '@angular/platform-browser';\n\n\n/**\n * Generated class for the OfertasPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-ofertas',\n  templateUrl: 'ofertas.html',\n})\nexport class OfertasPage {   \n\nsubcategorias=[];\ncategorias=[];\nlatitudePerson;\nlongitudePerson;\ncategoriaSeleccionada;\ndataUser;\nsubCategoriaSeleccionada;\nfavoritos;\ntestCheckboxOpen;\ntestCheckboxResult;\n\n  constructor(public navCtrl: NavController, private DomSanitizer: DomSanitizer, public navParams: NavParams, public modalCtrl: ModalController, public loadingCtrl: LoadingController,public events: Events, public apiProvider: ApiProvider, public alertCtrl: AlertController,public zone: NgZone,public storage: Storage) {\n\n    this.latitudePerson =0;\n  this.longitudePerson=0;\nthis.categoriaSeleccionada='';\n\n  }\n\n  ionViewDidLoad() {\n\n\n //this.storage.set('coorLBY', null);\n\n  //this.getServiciosGPS();\n    this.apiProvider.verificarLogin()\n    .then(data => { \n\n      console.log(data);\n\n      if(data){\n\n      this.dataUser = data;\n      //this.menuActivo = true;\n      }\n      else{\n      console.log('error');\n      // this.menuActivo = false;\n      } \n      this.doRefresh();\n      //this.getFavoritos();\n\n     });\n\n\n    console.log('ionViewDidLoad FavoritosPage');\n          this.getCategorias();\n   \n  }\n\n\n\n  filterFav = (user: any) => {\n  //console.log(user);\n    if(this.categoriaSeleccionada == 0){\n    return true;\n    }\n\n    if(this.subcategorias.length>0){\n      \n     return [user.idSubcategoria].some(r=> this.subCategoriaSeleccionada.includes(parseInt(r)));\n\n\n    }\n    else{\n   // return false;\n       return user.idCategoria == this.categoriaSeleccionada;\n    //return [user.idCategoria].includes(String(this.categoriaSeleccionada));\n    }\n\n  }\n\n/*\n\nvar found = array1.find(function(element) {\n  return element > 10;\n});\n\n*/\n        doRefresh(){\n\n        this.storage.get('coorLBY').then((value) => {\n\n        if(value && (new Date(value.expirationDate).getTime() > Date.now())){\n\n        this.latitudePerson = value.lat;\n        this.longitudePerson= value.lng;\n         this.getFavoritos();  \n        }\n        else{\n\n    let loading = this.loadingCtrl.create({content : \"Obteniendo ubicacion\",enableBackdropDismiss: false});\n    loading.present();\n\n      console.log('gps');\n        navigator.geolocation.getCurrentPosition((pos) => {\n\n          console.log(pos.coords.latitude+' Long: '+ pos.coords.longitude);\n          this.latitudePerson = pos.coords.latitude;\n          this.longitudePerson = pos.coords.longitude;\n\n          var fechaExpiracion = new Date();\n          fechaExpiracion.setHours(fechaExpiracion.getHours() + 1);\n          console.log(fechaExpiracion);\n\n          this.storage.set('coorLBY', {'lat':pos.coords.latitude,\n                                  'lng':pos.coords.longitude,\n                                    'expirationDate': fechaExpiracion});\n\n           this.getFavoritos();                         \n          loading.dismissAll();\n\n     \n\n\n\n        }, (error)=>{\n          console.log('some err');\n          console.log(error);\n          this.getFavoritos();\n          loading.dismissAll();\n            //this.presentAlert();\n\n\n        },{ enableHighAccuracy: true, timeout: 30000 });\n\n\n        }\n        });\n       /*\n          this.latitudePerson = 9.9931605;\n          this.longitudePerson = -84.2307427;\n */\n\n\n   \n      }\n\n\n    getSubCat(tt,yy){\n\n    //this.favoritos = this.favoritos;\n      console.log(tt,yy)\n      this.apiProvider.getSubcategorias({idCategoria:tt})\n      .then(data => {\n      console.log(data);\n      if(data){\n      this.subcategorias = (data as any[]) || [];\n\n            var ddata = (data as any[]).map(item=>{\n          return item['idSubcategoria'];\n        });\n\n        this.subCategoriaSeleccionada = ddata;\n      } \n      });\n    }\n\nfiltrarSubCategorias(tt,yy){\n  console.log(tt,yy)\n}\n\n\n    getCategorias() {\n\n        this.apiProvider.categoriasHome()\n      .then(data => {\n       console.log(data);\n              if(data){\n\n         this.categorias = data['categorias'] || [];\n       }\n       else{console.log('Ha ocurrido un error');}\n\n       \n      });\n  }\n\n      getServiciosGPS(){\n       /*\n          this.latitudePerson = 9.9931605;\n          this.longitudePerson = -84.2307427;\n      */\n\n    let loading = this.loadingCtrl.create({content : \"Obteniendo ubicacion\",enableBackdropDismiss: false});\n    loading.present();\n\n      console.log('gps');\n        navigator.geolocation.getCurrentPosition((pos) => {\n\n          console.log(pos.coords.latitude+' Long: '+ pos.coords.longitude);\n          this.latitudePerson = pos.coords.latitude;\n          this.longitudePerson = pos.coords.longitude;\n          loading.dismissAll();\n     \n\n\n        }, function(error) {\n          console.log('some err');\n          console.log(error);\n          loading.dismissAll();\n        },{ enableHighAccuracy: true, timeout: 30000 });\n\n   \n      }\n\n\n\n\n  getFavoritos() {\n\n      let dataE = {lat:this.latitudePerson,\n        lon:this.longitudePerson};\n      console.log(dataE);\n        this.apiProvider.ofertasActivas(dataE)\n      .then(data => {\n       console.log(data);\n              if(data){\n              \n      this.zone.run(()=>{ \n   this.favoritos = data || [];\n       }); \n       \n       }\n       else{\n\n       this.reintentarAlert(this.ionViewDidLoad.bind(this));\n       console.log('Ha ocurrido un error');\n\n       }\n\n       \n      });\n  }\n\n\n  reintentarAlert(funcionEnviar){\n\n    var mensaje = `<div>  \n                      <p>No hemos podido conectar. \n                      Verifica tu conexión a Internet para continuar</p>\n                      \n                   <div>`;\n    let alert = this.alertCtrl.create({\n      title: 'Error de conexión',\n      subTitle: this.DomSanitizer.bypassSecurityTrustHtml(mensaje) as string,\n       buttons: [\n \n           {\n        text: 'Reintentar',\n        handler: () => {\n          funcionEnviar();\n        }\n      },\n    ],\n      enableBackdropDismiss: false\n    });\n    alert.present();\n\n  }\n\n\n\n  filtroCategoria() {\n    //console.log('ionViewDidLoad FavoritosPage');\n     this.showCheckbox();\n  }\n\n  showCheckbox() {\n    let alert = this.alertCtrl.create({ cssClass: 'alertCustomCss'});\n    alert.setTitle('Filtra por categoria');\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Rostro y Cuerpo',\n      value: 'Rostro y Cuerpo',\n      checked: true\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Peluqueria',\n      value: 'Peluqueria'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Uñas',\n      value: 'Uñas'\n    });\n\n\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Masaje',\n      value: 'Masaje',\n      checked: true\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Depilacion',\n      value: 'Depilacion'\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Bienestar',\n      value: 'Bienestar'\n    });\n\n\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Paquetes',\n      value: 'Paquetes',\n      checked: true\n    });\n\n    alert.addInput({\n      type: 'checkbox',\n      label: 'Ofertas',\n      value: 'Ofertas'\n    });\n\n\n\n\n\n    alert.addButton('Cancel');\n    alert.addButton({\n      text: 'Seleccionar',\n      handler: data => {\n        console.log('Checkbox data:', data);\n        this.testCheckboxOpen = false;\n        this.testCheckboxResult = data;\n      }\n    });\n    alert.present();\n  }\n\n\n    goCentro(idCentro,idServicio, idServReal) {\n    // this.navCtrl.push('PerfilCentroPage');  \n     //  this.navCtrl.push('PerfilCentroPage', {'idCentro':idCentro, 'idServicioSeleccionado':this.categoriaSeleccionada});\n\n         this.navCtrl.push('PerfilCentroPage', {'idCentro':idCentro, 'idServicioSeleccionado':idServicio, 'idServReal':idServReal});\n\n\n      }\n  \n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ofertas/ofertas.ts"],"sourceRoot":""}