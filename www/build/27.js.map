{"version":3,"sources":["../../src/pages/cuenta/cuenta.module.ts","../../src/pages/cuenta/cuenta.ts"],"names":[],"mappings":"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","file":"27.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CuentaPage } from './cuenta';\n\n@NgModule({\n  declarations: [\n    CuentaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(CuentaPage),\n  ],\n})\nexport class CuentaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cuenta/cuenta.module.ts","import { Component, NgZone} from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { ChangeDetectorRef } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { ModalController } from 'ionic-angular';\nimport { LoadingController } from 'ionic-angular';\nimport { Events } from 'ionic-angular';\nimport { ApiProvider } from '../../providers/api/api';\n/**\n * Generated class for the CuentaPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n  declare var navigator: any;\n\n  declare var window: any;\n\n  \n\n@IonicPage()\n@Component({\n  selector: 'page-cuenta',\n  templateUrl: 'cuenta.html',\n})\nexport class CuentaPage {\nimageURI:any;\nimageFileName:any;\nporcenBarra='';\neditarData;\ndataUserInput;\ndataUser;\n  constructor(public cdr: ChangeDetectorRef,private DomSanitizer: DomSanitizer,public navCtrl: NavController, public navParams: NavParams, public modalCtrl: ModalController, public alertCtrl: AlertController,public loadingCtrl: LoadingController,public events: Events, public zone: NgZone,public apiProvider: ApiProvider, public storage: Storage) {\n\n  this.editarData=true;\n  this.dataUserInput={};\n    this.dataUser={};\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CuentaPage');\n\n\n    this.apiProvider.verificarLogin()\n    .then(data => { \n\n      console.log(data);\n\n      if(data){\n\n      /*\n      this.dataUserInput = JSON.parse(JSON.stringify(data));\n      this.dataUser = data;\n      this.porcenBarra = (((this.dataUser.exp  % 1500)/(this.dataUser.appexp))*100) + '%';\n      */\n\n      let loading = this.loadingCtrl.create({content : \"Cargando\"});\n      loading.present();\n      this.apiProvider.getUserInfo({idCliente:data['idCliente']})\n      .then(datas => {\n      console.log(datas);\n      if(datas && datas[0].idCliente == data['idCliente'] ){\n\n        this.dataUserInput = JSON.parse(JSON.stringify(datas[0]));\n        this.dataUser = datas[0];\n        this.porcenBarra = (((this.dataUser.exp  % 1500)/(this.dataUser.appexp))*100) + '%';\n\n      }\n      else{\n        console.log('Ha ocurrido un error');\n         this.reintentarAlert(this.ionViewDidLoad.bind(this));\n        }\n\n\n      loading.dismiss();\n      });\n\n      }\n      else{\n      console.log('error');\n      // this.menuActivo = false;\n     \n      } \n      \n     });\n  }\n\n  reintentarAlert(funcionEnviar){\n\n    var mensaje = `<div>  \n                      <p>No hemos podido conectar. \n                      Verifica tu conexión a Internet para continuar</p>\n                      \n                   <div>`;\n    let alert = this.alertCtrl.create({\n      title: 'Error de conexión',\n      subTitle: this.DomSanitizer.bypassSecurityTrustHtml(mensaje) as string,\n       buttons: [\n\n           {\n        text: 'Reintentar',\n        handler: () => {\n          funcionEnviar();\n        }\n      },\n    ],\n      enableBackdropDismiss: false\n    });\n    alert.present();\n\n  }\n\n\n\n  agregadoOk() {\n  let alert = this.alertCtrl.create({\n    title: 'Editado correctamente',\n    subTitle: 'Sus datos han sido editados correctamente',\n    buttons: ['Cerrar']\n  });\n  alert.present();\n}\n\n\ngetUDPE(valueExp){\n  \n  var valExp = parseInt(valueExp) || 0;\n  return valExp % 1500;\n}\n\n\n\n\n  errorSu() {\n  let alert = this.alertCtrl.create({\n    title: 'Error',\n    subTitle: 'Ha ocurrido un error',\n    buttons: ['Cerrar']\n  });\n  alert.present();\n}\n\n\n    getPorcentaje(){\n\n    let enviar = ((900)/(this.dataUser.completadas*100)) + '%';\n    console.log(enviar);\n    return enviar;\n       \n  \n  }\n\n\n\n\n getImages = () => {\n  const options = {\n    quality: 100,\n    destinationType: navigator.camera.DestinationType.FILE_URI,\n    sourceType: navigator.camera.PictureSourceType.PHOTOLIBRARY\n  }\n\n  navigator.camera.getPicture((imageData) => {\nconsole.log(imageData);\n     this.zone.run(()=>{ this.imageFileName = imageData; }); \n\n  }, (err) => {\n\n    console.log(err);\n\n\n  },options);\n}\n\n\nseleccionarGenero(genero){\n\n  if(!this.editarData){ \n  this.dataUser.idGenero = genero;\n    }\n\n}\n \n\n  guardarCambios(){\n\n    if(this.imageFileName){\n\n    this.uploadFile(this.dataUser);\n\n    }\n    else{\n\n         let loading = this.loadingCtrl.create({content : \"Cargando ...\"});\n          loading.present();\n\n\n          this.apiProvider.editarUsuario(this.dataUser)\n          .then(data => {\n\n          loading.dismiss();\n\n          console.log(data);\n          if(data && data['affectedRows']>0){\n\n           //this.storage.set(`usr_tok_by`, this.dataUser);\n\n\n            this.storage.get('usr_tok_by').then((value) => {\n            // console.log(value);\n            var da = value;\n\n            da.genero = this.dataUser.genero;\n            da.telefono = this.dataUser.telefono;\n            da.nombre = this.dataUser.nombre;\n             da.idGenero = this.dataUser.idGenero;\n                        da.fechaNacimiento = this.dataUser.fechaNacimiento;\n\n            console.log(da);\n\n            this.storage.set(`usr_tok_by`, da);\n            this.events.publish('userCH');\n            this.cdr.detectChanges();\n\n            })//.catch(() => resolve(false))\n\n          this.agregadoOk();\n          //console.log('borrada');\n          this.editarData=true;\n\n          }\n          else{\n          console.log('Ha ocurrido un error');\n          this.reintentarAlert(this.guardarCambios.bind(this));\n          }\n\n\n          });\n\n      }\n\n\n   //console.log(this.dataUser);\n\n  }\n\n\n\n  cancelarEdicion(){\n   this.dataUser = this.dataUserInput;\n   this.editarData=true;\n   this.imageFileName=undefined;\n\n  }\n\n\n\n  uploadFile = (datak) => {\n  let loader = this.loadingCtrl.create({\n    content: \"Guardando...\"\n  });\n  loader.present();\n  //const fileTransfer: FileTransferObject = this.transfer.create();\n/*\n  let options = new FileUploadOptions();' = {\n    fileKey: 'ionicfile',\n    fileName: 'ionicfile',\n    chunkedMode: false,\n    mimeType: \"image/jpeg\",\n    headers: {}\n  };\n*/\n let options = new window.FileUploadOptions();\n  options.fileKey = \"ionicfile\";\noptions.fileName = 'ionicfile2';\noptions.mimeType = \"image/jpeg\";\noptions.chunkedMode = false;\noptions.headers =  {};\n\noptions.params = datak;\n\n\nvar ft = new window.FileTransfer();\n  ft.upload(this.imageFileName, 'http://50.116.17.150:3000/editarCF', (datag) => {\n    console.log(datag);\n    //this.imageFileName = \"http://192.168.0.7:8080/static/images/ionicfile.jpg\"\n    //this.presentToast(\"Image uploaded successfully\");\n\n  var data = JSON.parse(datag.response);\n    console.log(data);\n              if(data.data && data.data.affectedRows>0){\n\n           //this.storage.set(`usr_tok_by`, this.dataUser);\n\n\n            this.storage.get('usr_tok_by').then((value) => {\n            // console.log(value);\n            var da = value;\n\n            da.genero = this.dataUser.genero;\n            da.telefono = this.dataUser.telefono;\n            da.nombre = this.dataUser.nombre;\n            da.idFoto = data.idFoto;\n            console.log(da);\n            this.storage.set(`usr_tok_by`, da);\n\n\n            })//.catch(() => resolve(false));\n\n          loader.dismiss();\n\n          this.agregadoOk();\n        \n\n          //console.log('borrada');\n          this.editarData=true;\n\n          }\n          else{\n\n            loader.dismiss();\n             this.errorSu();\n          console.log('Ha ocurrido un error');\n          }\n\n\n  }, (err) => {\n    console.log(err);\n    loader.dismiss();\n   // this.presentToast(err);\n  },options);\n\n\n}\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/cuenta/cuenta.ts"],"sourceRoot":""}